CREATE TABLE ALUMNO (DNI VARCHAR NOT NULL, APELLIDO1 VARCHAR NOT NULL UNIQUE, APELLIDO2 VARCHAR, CPNOTIFICACION VARCHAR, CREDITOSCF INTEGER, CREDITOSFB INTEGER, CREDITOSOB INTEGER, CREDITOSOP INTEGER, CREDITOSPE INTEGER, CREDITOSSUPERADOS INTEGER, CREDITOSTF INTEGER, DIRECCIONNOTIFICACION VARCHAR, EMAILINSTITUCIONAL VARCHAR NOT NULL, EMAILPERSONAL VARCHAR, FECHAMATRICULA VARCHAR, GRUPOSASIGNADOS VARCHAR, LOCALIDADNOTIFICACION VARCHAR, MOVIL VARCHAR, NOMBRE VARCHAR NOT NULL UNIQUE, NOTAMEDIA DOUBLE, NUMARCHIVO INTEGER, NUMEXPEDIENTE INTEGER, PROVINCIANOTIFICACCION VARCHAR, TELEFONO VARCHAR, TURNOPREFERENTE VARCHAR, PRIMARY KEY (DNI))
CREATE TABLE ASIGNATURA (REFERENCIA INTEGER NOT NULL, DTYPE VARCHAR(31), CARACTER VARCHAR, CODIGO INTEGER NOT NULL, CREDITOSPRACTICA INTEGER, CREDITOSTEORIA INTEGER NOT NULL, CURSO INTEGER, DURACION VARCHAR, NOMBRE VARCHAR, OFERTADA BOOLEAN NOT NULL, OTRO_IDIOMA VARCHAR, PLAZAS VARCHAR, TOTALCREDITOS INTEGER, TITULACION_CODIGO INTEGER NOT NULL, MENCION VARCHAR, PRIMARY KEY (REFERENCIA))
CREATE TABLE ASIGNATURASMATRICULA (ASIGNATURA_REFERENCIA INTEGER NOT NULL, GRUPO_ID INTEGER, EXPEDIENTE_NUMEXPEDIENTE INTEGER NOT NULL, CURSOACADEMICO VARCHAR NOT NULL, PRIMARY KEY (ASIGNATURA_REFERENCIA, EXPEDIENTE_NUMEXPEDIENTE, CURSOACADEMICO))
CREATE TABLE CENTRO (ID INTEGER NOT NULL, DIRECCION VARCHAR NOT NULL, NOMBRE VARCHAR NOT NULL, TELECONSEJERIA VARCHAR, PRIMARY KEY (ID))
CREATE TABLE CLASE (DIA INTEGER NOT NULL, HORAINICIO VARCHAR NOT NULL, HORAFIN VARCHAR, ASIGNATURA_REFERENCIA INTEGER NOT NULL, GRUPO_ID INTEGER NOT NULL UNIQUE, PRIMARY KEY (DIA, HORAINICIO, GRUPO_ID))
CREATE TABLE ENCUESTA (FECHADEENVIO VARCHAR NOT NULL, EXPEDIENTE_NUMEXPEDIENTE INTEGER NOT NULL, PRIMARY KEY (FECHADEENVIO))
CREATE TABLE EXPEDIENTE (NUMEXPEDIENTE INTEGER NOT NULL, ACTIVO BOOLEAN, NOTAMEDIAPROVISIONAL BIGINT, ALUMNO_DNI VARCHAR NOT NULL, TITULACION_CODIGO INTEGER NOT NULL, PRIMARY KEY (NUMEXPEDIENTE))
CREATE TABLE GRUPO (ID INTEGER NOT NULL, ASIGNAR VARCHAR, CURSO INTEGER NOT NULL UNIQUE, INGLES BOOLEAN NOT NULL, LETRA VARCHAR NOT NULL, PLAZAS INTEGER, TURNO VARCHAR NOT NULL, VISIBLE BOOLEAN, GRUPOS_ID INTEGER, TITULACION_CODIGO INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE GRUPOSPORASIGNATURA (CURSOACADEMICO INTEGER NOT NULL, OFERTA BOOLEAN, ASIGNATURA_REFERENCIA INTEGER NOT NULL, GRUPO_ID INTEGER NOT NULL, PRIMARY KEY (CURSOACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID))
CREATE TABLE MATRICULA (CURSOACADEMICO VARCHAR NOT NULL, ESTADO VARCHAR, FECHAMATRICULA VARCHAR NOT NULL, LISTADOASIGNATURAS VARCHAR, NUEVOINGRESO VARCHAR, NUMARCHIVO INTEGER, TURNOPREFERENTE VARCHAR, EXPEDIENTE_NUMEXPEDIENTE INTEGER NOT NULL, PRIMARY KEY (CURSOACADEMICO, EXPEDIENTE_NUMEXPEDIENTE))
CREATE TABLE TITULACION (CODIGO INTEGER NOT NULL, CREDITOS INTEGER, NOMBRE VARCHAR, PRIMARY KEY (CODIGO))
CREATE TABLE USUARIO (EMAILINSTITUCIONAL VARCHAR NOT NULL, CONTRASENIA VARCHAR, SECRETARIA BOOLEAN, ALUMNO_DNI VARCHAR, PRIMARY KEY (EMAILINSTITUCIONAL))
CREATE TABLE CENTRO_TITULACION (centros_ID INTEGER NOT NULL, titulaciones_CODIGO INTEGER NOT NULL, PRIMARY KEY (centros_ID, titulaciones_CODIGO))
CREATE TABLE ENCUESTA_GRUPOSPORASIGNATURA (encuestas_FECHADEENVIO VARCHAR NOT NULL, CURSOACADEMICO INTEGER NOT NULL, ASIGNATURA_REFERENCIA INTEGER NOT NULL, GRUPO_ID INTEGER NOT NULL, PRIMARY KEY (encuestas_FECHADEENVIO, CURSOACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID))
CREATE TABLE ASIGNATURA_TITULACION (optativas_REFERENCIA INTEGER NOT NULL, titulaciones_CODIGO INTEGER NOT NULL, PRIMARY KEY (optativas_REFERENCIA, titulaciones_CODIGO))
ALTER TABLE ASIGNATURA ADD CONSTRAINT FK_ASIGNATURA_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE ASIGNATURASMATRICULA ADD CONSTRAINT FK_ASIGNATURASMATRICULA_ASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE ASIGNATURASMATRICULA ADD CONSTRAINT FK_ASIGNATURASMATRICULA_CURSOACADEMICO FOREIGN KEY (CURSOACADEMICO, EXPEDIENTE_NUMEXPEDIENTE) REFERENCES MATRICULA (CURSOACADEMICO, EXPEDIENTE_NUMEXPEDIENTE)
ALTER TABLE ASIGNATURASMATRICULA ADD CONSTRAINT FK_ASIGNATURASMATRICULA_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE CLASE ADD CONSTRAINT FK_CLASE_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE CLASE ADD CONSTRAINT FK_CLASE_ASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE ENCUESTA ADD CONSTRAINT FK_ENCUESTA_EXPEDIENTE_NUMEXPEDIENTE FOREIGN KEY (EXPEDIENTE_NUMEXPEDIENTE) REFERENCES EXPEDIENTE (NUMEXPEDIENTE)
ALTER TABLE EXPEDIENTE ADD CONSTRAINT FK_EXPEDIENTE_ALUMNO_DNI FOREIGN KEY (ALUMNO_DNI) REFERENCES ALUMNO (DNI)
ALTER TABLE EXPEDIENTE ADD CONSTRAINT FK_EXPEDIENTE_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE GRUPO ADD CONSTRAINT FK_GRUPO_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE GRUPO ADD CONSTRAINT FK_GRUPO_GRUPOS_ID FOREIGN KEY (GRUPOS_ID) REFERENCES GRUPO (ID)
ALTER TABLE GRUPOSPORASIGNATURA ADD CONSTRAINT FK_GRUPOSPORASIGNATURA_ASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE GRUPOSPORASIGNATURA ADD CONSTRAINT FK_GRUPOSPORASIGNATURA_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE MATRICULA ADD CONSTRAINT FK_MATRICULA_EXPEDIENTE_NUMEXPEDIENTE FOREIGN KEY (EXPEDIENTE_NUMEXPEDIENTE) REFERENCES EXPEDIENTE (NUMEXPEDIENTE)
ALTER TABLE USUARIO ADD CONSTRAINT FK_USUARIO_ALUMNO_DNI FOREIGN KEY (ALUMNO_DNI) REFERENCES ALUMNO (DNI)
ALTER TABLE CENTRO_TITULACION ADD CONSTRAINT FK_CENTRO_TITULACION_titulaciones_CODIGO FOREIGN KEY (titulaciones_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE CENTRO_TITULACION ADD CONSTRAINT FK_CENTRO_TITULACION_centros_ID FOREIGN KEY (centros_ID) REFERENCES CENTRO (ID)
ALTER TABLE ENCUESTA_GRUPOSPORASIGNATURA ADD CONSTRAINT FK_ENCUESTA_GRUPOSPORASIGNATURA_CURSOACADEMICO FOREIGN KEY (CURSOACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID) REFERENCES GRUPOSPORASIGNATURA (CURSOACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID)
ALTER TABLE ENCUESTA_GRUPOSPORASIGNATURA ADD CONSTRAINT ENCUESTA_GRUPOSPORASIGNATURAencuestas_FECHADEENVIO FOREIGN KEY (encuestas_FECHADEENVIO) REFERENCES ENCUESTA (FECHADEENVIO)
ALTER TABLE ASIGNATURA_TITULACION ADD CONSTRAINT FK_ASIGNATURA_TITULACION_optativas_REFERENCIA FOREIGN KEY (optativas_REFERENCIA) REFERENCES ASIGNATURA (REFERENCIA)
ALTER TABLE ASIGNATURA_TITULACION ADD CONSTRAINT FK_ASIGNATURA_TITULACION_titulaciones_CODIGO FOREIGN KEY (titulaciones_CODIGO) REFERENCES TITULACION (CODIGO)
